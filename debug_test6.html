<!DOCTYPE html>
<html>
<head>
    <title>Debug Test 6</title>
</head>
<body>
    <h1>Debug - comparing all paths</h1>
    <pre id="output"></pre>
    
    <script src="classes.js"></script>
    <script>
        const completedSubjects = [
            3621, 3622, 3623, 3624, 3625, 3626, 3627, 3628, 3629, 3630,
            3631, 3632, 3633, 3634, 3635, 3636, 3637, 3638, 3639, 3640,
            3642, 3643, 3645, 3649, 3651, 901, 902, 911, 912
        ];
        
        const plan = new PlanDeEstudios();
        plan.cargarMateriasDesdeTexto(listado, completedSubjects);
        plan.cargarNombresDesdeTexto(tabla_nombres);
        
        let output = 'Analyzing paths from 3647:\n\n';
        
        // Manual path exploration for 3647
        const posteriores3647 = Array.from(plan.materias[3647].posteriores);
        output += `3647 posteriores: ${posteriores3647.join(', ')}\n`;
        
        for (const post of posteriores3647) {
            const path = plan.encontrarCaminoMasLargoDesde(post);
            const semCount = plan.contarSemestresEnCamino(path, true);
            output += `  Path via ${post}: ${path.join(' -> ')} (length=${path.length}, semesters=${semCount})\n`;
        }
        
        output += '\nAnalyzing paths from 3648:\n\n';
        const posteriores3648 = Array.from(plan.materias[3648].posteriores);
        output += `3648 posteriores: ${posteriores3648.join(', ')}\n`;
        
        for (const post of posteriores3648) {
            const path = plan.encontrarCaminoMasLargoDesde(post);
            const semCount = plan.contarSemestresEnCamino(path, true);
            output += `  Path via ${post}: ${path.join(' -> ')} (length=${path.length}, semesters=${semCount})\n`;
        }
        
        output += '\nAnalyzing paths from 3656:\n\n';
        const posteriores3656 = Array.from(plan.materias[3656].posteriores);
        output += `3656 posteriores: ${posteriores3656.join(', ')}\n`;
        
        for (const post of posteriores3656) {
            const path = plan.encontrarCaminoMasLargoDesde(post);
            const semCount = plan.contarSemestresEnCamino(path, true);
            output += `  Path via ${post}: ${post} (length=1, semesters=1)\n`;
            if (post === 3671) {
                output += `    3671 is special - takes 2 semesters!\n`;
            }
        }
        
        document.getElementById('output').textContent = output;
    </script>
</body>
</html>
