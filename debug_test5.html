<!DOCTYPE html>
<html>
<head>
    <title>Debug Test 5</title>
</head>
<body>
    <h1>Debug - checking longest paths</h1>
    <pre id="output"></pre>
    
    <script src="classes.js"></script>
    <script>
        const completedSubjects = [
            3621, 3622, 3623, 3624, 3625, 3626, 3627, 3628, 3629, 3630,
            3631, 3632, 3633, 3634, 3635, 3636, 3637, 3638, 3639, 3640,
            3642, 3643, 3645, 3649, 3651, 901, 902, 911, 912
        ];
        
        const plan = new PlanDeEstudios();
        plan.cargarMateriasDesdeTexto(listado, completedSubjects);
        plan.cargarNombresDesdeTexto(tabla_nombres);
        
        const subjects = [3647, 3648, 3656, 3659, 3665, 3668];
        
        let output = 'Checking if subjects are in the graph and their connections:\n\n';
        
        for (const id of subjects) {
            if (plan.materias[id]) {
                output += `${id} (${plan.materias[id].nombre}):\n`;
                output += `  Anteriores: ${Array.from(plan.materias[id].anteriores).join(', ')}\n`;
                output += `  Posteriores: ${Array.from(plan.materias[id].posteriores).join(', ')}\n`;
                output += `  Is 3671 reachable from ${id}? ${plan.esAlcanzableDesde(id, 3671)}\n`;
            } else {
                output += `${id}: NOT IN GRAPH\n`;
            }
            output += '\n';
        }
        
        output += '\nLongest path overall:\n';
        const longestPath = plan.encontrarCaminoMasLargo();
        output += longestPath.join(' -> ') + '\n';
        output += `Length: ${longestPath.length}\n`;
        output += `Semester count: ${plan.contarSemestresEnCamino(longestPath, true)}\n`;
        
        document.getElementById('output').textContent = output;
    </script>
</body>
</html>
