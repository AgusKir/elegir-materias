<!DOCTYPE html>
<html>
<head>
    <title>Manual Test of Fix</title>
    <script src="classes.js"></script>
    <script src="main.js"></script>
</head>
<body>
    <h1>Manual simulation of the issue scenario</h1>
    <div id="output"></div>
    
    <script>
        // Simulate the exact scenario from the issue
        const completedSubjects = [
            3621, 3622, 3623, 3624, 3625, 3626, 3627, 3628, 3629, 3630,
            3631, 3632, 3633, 3634, 3635, 3636, 3637, 3638, 3639, 3640,
            3642, 3643, 3645, 3649, 3651, 901, 902, 911, 912
        ];
        
        // Test with Segundo cuatrimestre (2)
        const plan = new PlanDeEstudios();
        plan.cargarMateriasDesdeTexto(listado, completedSubjects);
        plan.cargarNombresDesdeTexto(tabla_nombres);
        plan.calcularYGuardarLongitudes(2);  // Segundo
        
        // Get subjects that can be taken
        const materiasDisponibles = plan.puedoCursarEnCuatri(1);
        
        let html = '<h2>Expected results:</h2>';
        html += '<ul>';
        html += '<li>3644 - 1</li>';
        html += '<li>3650 - 1</li>';
        html += '<li>3647 - 2</li>';
        html += '<li>3648 - 2</li>';
        html += '<li>3654 - 2</li>';
        html += '<li>3641 - 3</li>';
        html += '<li>3646 - 3</li>';
        html += '<li>3656 - 3</li>';
        html += '<li>903 - 4</li>';
        html += '<li>3662 - 5</li>';
        html += '<li>3675 - 5</li>';
        html += '<li>3676 - 5</li>';
        html += '</ul>';
        
        html += '<h2>Actual results (available subjects):</h2>';
        html += '<ul>';
        materiasDisponibles.forEach(materia => {
            html += `<li>${materia}</li>`;
        });
        html += '</ul>';
        
        document.getElementById('output').innerHTML = html;
    </script>
</body>
</html>
